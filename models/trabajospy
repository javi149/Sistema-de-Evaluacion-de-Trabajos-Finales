from database import db

class Trabajos(db.Model):
    __tablename__ = 'trabajos'

    # Columnas que ya existían
    id = db.Column(db.Integer, primary_key=True)
    titulo = db.Column(db.String(200), nullable=False)
    resumen = db.Column(db.Text)
    fecha_entrega = db.Column(db.Date)
    
    # Claves foráneas (Conexiones con otras tablas)
    estudiante_id = db.Column(db.Integer, db.ForeignKey('estudiantes.id'), nullable=False)
    tipo_id = db.Column(db.Integer, db.ForeignKey('tipos_trabajo.id')) 
    
    # --- NUEVAS COLUMNAS (Para tu Factory) ---
    # Aquí guardaremos las reglas que tu Factory genera
    duracion_meses = db.Column(db.Integer)
    nota_aprobacion = db.Column(db.Float)
    requisito_aprobacion = db.Column(db.String(255))

    # Relaciones (Opcional, para facilitar consultas)
    # estudiante = db.relationship('Estudiante', backref='trabajos')